<!DOCTYPE html>
<html>
<head>
  <title>Gladiators</title>
</head>

<body>
  <script>

  var arena = [];

    function rollDice(howMany, whatType) {

      var result = 0;
      
      for (var i=0; i<howMany; i++) {

        result += Math.floor(Math.random() * whatType) + 1;
      
      }
      return result;
    }

    function didHit(attacker, defender) {
      
      var toHitNumer = defender.defense  - attacker.attack;
      var roll = rollDice(1, 20);

      if(roll >= toHitNumer) {
        return true;
      }
      else {
        return false;
      }
    }

    function calculateDamage(attacker) {
      
      var damageRoll = attacker.weapon.getDamage();
      return damageRoll;

    }

    function handleAttack(attacker, defender) {
      
      var didTheyHit = didHit(attacker, defender);
      
      if(didTheyHit == true) {
        
        var howMuchDamage = calculateDamage(attacker);
        defender.hitPoints = howMuchDamage;
        
        if(defender.hitPoints <= 10) {
          gameOver(defender);
        }

      }
    }

    function startGame() {
      
      var dagger = {
        getDamage: function() {
          return rollDice(1, 4);
        }
      };

      var claw = {
        getDamage: function() {
          return rollDice(1, 3);
        }
      };

      var halberd = {
        getDamage: function() {
          return rollDice(1, 12);
        }
      };

      var axe = {
        getDamage: function() {
          return rollDice(3, 4);
        }
      };

      var gladiator1 = {name: "Sam", attack: 2, defense: 10, hitPoints: 10, weapon: dagger};
      var gladiator2 = {name: "Dave", attack: 4, defense: 12, hitPoints: 14, weapon: claw};
      var gladiator3 = {name: "Mark", attack: 1, defense: 14, hitPoints: 10, weapon: halberd};
      var gladiator4 = {name: "Gary", attack: 5, defense: 11, hitPoints: 12, weapon: axe};

      arena.push(gladiator1, gladiator2, gladiator3, gladiator4);
    }

    function gameOver(defender) {

    }

    function d(o) {
      console.log(o);
    }

    startGame();


  </script>
</body>

</html>
